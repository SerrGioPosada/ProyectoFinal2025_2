<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="co.edu.uniquindio.poo.ProyectoFinal2025_2.Controller.OrderDetailController"
      spacing="15" styleClass="content-area">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header Section -->
    <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header-section">
        <Label text="Detalles de la Orden" styleClass="page-title"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="Imprimir" styleClass="btn-secondary" onAction="#handlePrint"/>
        <Button text="Volver" styleClass="btn-secondary" onAction="#handleBack"/>
    </HBox>

    <!-- Scrollable Content -->
    <ScrollPane fitToWidth="true" styleClass="details-scroll" VBox.vgrow="ALWAYS">
        <VBox spacing="20" styleClass="details-container">

            <!-- General Information -->
            <VBox spacing="10" styleClass="detail-section">
                <Label text="General Information" styleClass="section-title"/>
                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                    </columnConstraints>

                    <Label text="Order ID:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblId" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Status:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                    <Label fx:id="lblStatus" text="--" styleClass="detail-value status-badge" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                    <Label text="Creation Date:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblCreationDate" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Shipment ID:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                    <Label fx:id="lblShipmentId" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                    <Label text="Payment ID:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="lblPaymentId" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <Label text="Invoice ID:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                    <Label fx:id="lblInvoiceId" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="2"/>
                </GridPane>
            </VBox>

            <Separator/>

            <!-- User Information -->
            <VBox spacing="10" styleClass="detail-section">
                <Label text="User Information" styleClass="section-title"/>
                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                    </columnConstraints>

                    <Label text="Name:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblUserName" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Phone:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                    <Label fx:id="lblUserPhone" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                    <Label text="Email:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblUserEmail" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.columnSpan="3"/>
                </GridPane>
            </VBox>

            <Separator/>

            <!-- Addresses -->
            <HBox spacing="20">
                <VBox spacing="10" styleClass="detail-section" HBox.hgrow="ALWAYS">
                    <Label text="Origin Address" styleClass="section-title"/>
                    <Label fx:id="lblOriginAddress" text="--" styleClass="address-text" wrapText="true"/>
                    <Label fx:id="lblOriginZone" text="Zone: --" styleClass="detail-value"/>
                </VBox>

                <VBox spacing="10" styleClass="detail-section" HBox.hgrow="ALWAYS">
                    <Label text="Destination Address" styleClass="section-title"/>
                    <Label fx:id="lblDestinationAddress" text="--" styleClass="address-text" wrapText="true"/>
                    <Label fx:id="lblDestinationZone" text="Zone: --" styleClass="detail-value"/>
                </VBox>
            </HBox>

            <!-- Shipment Details (if exists) -->
            <VBox fx:id="shipmentSection" spacing="10" styleClass="detail-section">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Shipment Details" styleClass="section-title"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="btnViewShipment" text="View Full Shipment Details" styleClass="btn-primary" onAction="#handleViewShipment"/>
                </HBox>

                <Separator/>

                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                    </columnConstraints>

                    <Label text="Status:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblShipmentStatus" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Priority:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                    <Label fx:id="lblShipmentPriority" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                    <Label text="Weight:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblWeight" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Distance:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                    <Label fx:id="lblDistance" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                    <Label text="Estimated Delivery:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="lblEstimatedDate" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <Label text="Actual Delivery:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                    <Label fx:id="lblActualDate" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="2"/>
                </GridPane>
            </VBox>

            <Separator fx:id="shipmentSeparator"/>

            <!-- Payment Details (if exists) -->
            <VBox fx:id="paymentSection" spacing="10" styleClass="detail-section">
                <Label text="Payment Information" styleClass="section-title"/>
                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                    </columnConstraints>

                    <Label text="Payment Status:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblPaymentStatus" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Payment Method:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                    <Label fx:id="lblPaymentMethod" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                    <Label text="Payment Date:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblPaymentDate" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Total Amount:" styleClass="detail-label total-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                    <Label fx:id="lblTotalAmount" text="--" styleClass="detail-value total-value" GridPane.columnIndex="3" GridPane.rowIndex="1"/>
                </GridPane>
            </VBox>

            <Separator fx:id="paymentSeparator"/>

            <!-- Delivery Person (if assigned) -->
            <VBox fx:id="deliveryPersonSection" spacing="10" styleClass="detail-section">
                <Label text="Delivery Person" styleClass="section-title"/>
                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints minWidth="200" prefWidth="250"/>
                    </columnConstraints>

                    <Label text="Name:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblDeliveryPersonName" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Phone:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                    <Label fx:id="lblDeliveryPersonPhone" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                    <Label text="Zone:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblDeliveryPersonZone" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Document ID:" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                    <Label fx:id="lblDeliveryPersonDocumentId" text="--" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="1"/>
                </GridPane>
            </VBox>

        </VBox>
    </ScrollPane>

</VBox>
