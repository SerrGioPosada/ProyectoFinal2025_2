<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<ScrollPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="co.edu.uniquindio.poo.ProyectoFinal2025_2.Controller.DeliveryDashboardController"
            styleClass="scroll-base"
            fitToWidth="true">

    <VBox spacing="15" styleClass="content-area">

        <!-- Header Section -->
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="header-section" style="-fx-padding: 15;">
            <VBox spacing="3" HBox.hgrow="ALWAYS">
                <Label fx:id="lblWelcome" text="Bienvenido, Repartidor" styleClass="dashboard-title"/>
                <Label fx:id="lblLastUpdated" text="Última actualización: --" styleClass="info-label"/>
            </VBox>
            <Button text="Actualizar" onAction="#handleRefresh" styleClass="btn-primary"/>
        </HBox>

        <!-- Availability Status Section -->
        <VBox styleClass="section-container" spacing="10">
            <Label text="Estado de Disponibilidad" styleClass="section-title"/>
            <HBox spacing="15" alignment="CENTER_LEFT">
                <VBox spacing="5">
                    <Label text="Estado Actual:" styleClass="label-bold"/>
                    <Label fx:id="lblCurrentStatus" text="Estado: --" styleClass="stat-value"/>
                </VBox>
                <VBox spacing="5">
                    <Label text="Cambiar Estado:" styleClass="label-bold"/>
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <ComboBox fx:id="cmbAvailability" prefWidth="150" styleClass="combo-box"/>
                        <Button fx:id="btnUpdateStatus" text="Actualizar" onAction="#handleUpdateStatus" styleClass="btn-secondary"/>
                    </HBox>
                </VBox>
            </HBox>
        </VBox>

        <!-- Vehicle Information Section -->
        <VBox styleClass="section-container" spacing="10">
            <Label text="Vehículo Asignado" styleClass="section-title"/>

            <!-- Current Vehicle Info -->
            <GridPane hgap="20" vgap="10">
                <columnConstraints>
                    <ColumnConstraints percentWidth="33"/>
                    <ColumnConstraints percentWidth="33"/>
                    <ColumnConstraints percentWidth="33"/>
                </columnConstraints>

                <VBox spacing="5" GridPane.columnIndex="0">
                    <Label text="Placa:" styleClass="label-bold"/>
                    <Label fx:id="lblVehiclePlate" text="--" styleClass="info-label"/>
                </VBox>

                <VBox spacing="5" GridPane.columnIndex="1">
                    <Label text="Tipo:" styleClass="label-bold"/>
                    <Label fx:id="lblVehicleType" text="--" styleClass="info-label"/>
                </VBox>

                <VBox spacing="5" GridPane.columnIndex="2">
                    <Label text="Capacidad:" styleClass="label-bold"/>
                    <Label fx:id="lblVehicleCapacity" text="--" styleClass="info-label"/>
                </VBox>
            </GridPane>

            <!-- Change Vehicle Section -->
            <Separator/>
            <VBox spacing="5">
                <Label text="Cambiar Vehículo en Uso:" styleClass="label-bold"/>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <ComboBox fx:id="cmbVehicle" prefWidth="300" styleClass="combo-box"/>
                    <Button fx:id="btnUpdateVehicle" text="Actualizar Vehículo" onAction="#handleUpdateVehicle" styleClass="btn-secondary"/>
                </HBox>
            </VBox>
        </VBox>

        <!-- Statistics Section -->
        <VBox styleClass="section-container" spacing="10">
            <Label text="Estadísticas de Envíos" styleClass="section-title"/>
            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                </columnConstraints>

                <!-- Total Assigned -->
                <VBox styleClass="stat-card-compact" spacing="5" GridPane.columnIndex="0">
                    <Label text="Total Asignados" styleClass="stat-label-compact"/>
                    <Label fx:id="lblTotalAssigned" text="0" styleClass="stat-value-compact"/>
                </VBox>

                <!-- Pending -->
                <VBox styleClass="stat-card-compact-warning" spacing="5" GridPane.columnIndex="1">
                    <Label text="Pendientes" styleClass="stat-label-compact"/>
                    <Label fx:id="lblPending" text="0" styleClass="stat-value-compact"/>
                </VBox>

                <!-- In Transit -->
                <VBox styleClass="stat-card-compact-info" spacing="5" GridPane.columnIndex="2">
                    <Label text="En Tránsito" styleClass="stat-label-compact"/>
                    <Label fx:id="lblInTransit" text="0" styleClass="stat-value-compact"/>
                </VBox>

                <!-- Delivered Today -->
                <VBox styleClass="stat-card-compact-success" spacing="5" GridPane.columnIndex="3">
                    <Label text="Entregados Hoy" styleClass="stat-label-compact"/>
                    <Label fx:id="lblDeliveredToday" text="0" styleClass="stat-value-compact"/>
                </VBox>
            </GridPane>
        </VBox>

        <!-- Quick Actions Section -->
        <VBox styleClass="section-container" spacing="10">
            <Label text="Acciones Rápidas" styleClass="section-title"/>
            <HBox spacing="10">
                <Button text="Ver Mis Envíos" styleClass="btn-primary"/>
                <Button text="Cambiar Contraseña" styleClass="btn-secondary"/>
            </HBox>
        </VBox>

    </VBox>
</ScrollPane>
