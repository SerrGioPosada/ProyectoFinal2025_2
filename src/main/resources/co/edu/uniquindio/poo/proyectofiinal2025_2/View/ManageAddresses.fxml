<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="co.edu.uniquindio.poo.proyectofiinal2025_2.Controller.ManageAddressesController"
      spacing="20" styleClass="content-area">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header Section -->
    <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header-section">
        <Label text="Gestionar Direcciones" styleClass="page-title"/>
    </HBox>

    <!-- Addresses Management Card -->
    <VBox spacing="20" styleClass="profile-container" VBox.vgrow="ALWAYS">
        <padding>
            <Insets top="30" right="30" bottom="30" left="30"/>
        </padding>

        <!-- Instructions -->
        <VBox spacing="5">
            <Label text="Direcciones Frecuentes" styleClass="option-card-title"/>
            <Label text="Administra tus direcciones guardadas para envíos rápidos"
                   styleClass="option-card-description" wrapText="true"/>
        </VBox>

        <!-- Action Buttons -->
        <HBox spacing="15" alignment="CENTER_LEFT">
            <Button text="+ Nueva Dirección" styleClass="btn-primary" onAction="#handleAddAddress" prefWidth="180"/>
            <Button text="Editar" styleClass="btn-secondary" onAction="#handleEditAddress" prefWidth="120"/>
            <Button text="Eliminar" styleClass="btn-danger" onAction="#handleDeleteAddress" prefWidth="120"/>
        </HBox>

        <Separator/>

        <!-- Addresses Table -->
        <TableView fx:id="addressesTable" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="colLabel" text="Etiqueta" prefWidth="150"/>
                <TableColumn fx:id="colStreet" text="Dirección" prefWidth="200"/>
                <TableColumn fx:id="colCity" text="Ciudad" prefWidth="150"/>
                <TableColumn fx:id="colState" text="Departamento" prefWidth="150"/>
                <TableColumn fx:id="colPostalCode" text="Código Postal" prefWidth="120"/>
                <TableColumn fx:id="colDefault" text="Predeterminada" prefWidth="120"/>
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>
        </TableView>

        <!-- Empty State Message -->
        <VBox fx:id="emptyStateBox" alignment="CENTER" spacing="10" visible="false" managed="false">
            <Label text="No tienes direcciones guardadas" styleClass="empty-state-text"/>
            <Label text="Agrega una dirección frecuente para usarla en tus envíos"
                   styleClass="empty-state-subtitle"/>
            <Button text="Agregar Primera Dirección" styleClass="btn-primary" onAction="#handleAddAddress"/>
        </VBox>

        <!-- Counter Label -->
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="Total de direcciones:" styleClass="form-label"/>
            <Label fx:id="lblAddressCount" text="0" styleClass="form-label"/>
        </HBox>

        <Separator/>

        <!-- Back Button -->
        <HBox alignment="CENTER_RIGHT">
            <Button text="Volver al Perfil" styleClass="btn-secondary" onAction="#handleBack" prefWidth="150"/>
        </HBox>
    </VBox>

</VBox>
