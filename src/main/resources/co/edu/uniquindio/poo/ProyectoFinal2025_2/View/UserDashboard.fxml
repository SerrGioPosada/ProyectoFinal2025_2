<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="co.edu.uniquindio.poo.ProyectoFinal2025_2.Controller.UserDashboardController"
      spacing="20.0" styleClass="dashboard-background">

    <padding>
        <Insets top="30.0" right="30.0" bottom="30.0" left="30.0"/>
    </padding>

    <!-- Header Section -->
    <VBox spacing="10.0">
        <Label fx:id="lblWelcome" text="Bienvenido" styleClass="dashboard-header-title"/>
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <Label fx:id="lblLastUpdated" text="Ãšltima actualizaciÃ³n: --/--/---- --:--:--" styleClass="dashboard-header-subtitle"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Actualizar" onAction="#handleRefresh" styleClass="btn-update">
                <padding>
                    <Insets top="8.0" right="16.0" bottom="8.0" left="16.0"/>
                </padding>
            </Button>
        </HBox>
    </VBox>

    <!-- Statistics Cards Section -->
    <GridPane hgap="20.0" vgap="20.0">
        <columnConstraints>
            <ColumnConstraints percentWidth="25.0"/>
            <ColumnConstraints percentWidth="25.0"/>
            <ColumnConstraints percentWidth="25.0"/>
            <ColumnConstraints percentWidth="25.0"/>
        </columnConstraints>

        <!-- Total Orders Card -->
        <VBox GridPane.columnIndex="0" spacing="10.0" alignment="CENTER" styleClass="dashboard-stat-card">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
            </padding>
            <Label text="Total de Ã“rdenes" styleClass="stat-card-label"/>
            <Label fx:id="lblTotalOrders" text="0" styleClass="stat-card-value"/>
        </VBox>

        <!-- Pending Orders Card -->
        <VBox GridPane.columnIndex="1" spacing="10.0" alignment="CENTER" styleClass="dashboard-stat-card">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
            </padding>
            <Label text="Ã“rdenes Pendientes" styleClass="stat-card-label"/>
            <Label fx:id="lblPendingOrders" text="0" styleClass="stat-card-value stat-card-value-pending"/>
        </VBox>

        <!-- Processing Orders Card -->
        <VBox GridPane.columnIndex="2" spacing="10.0" alignment="CENTER" styleClass="dashboard-stat-card">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
            </padding>
            <Label text="En Proceso" styleClass="stat-card-label"/>
            <Label fx:id="lblProcessingOrders" text="0" styleClass="stat-card-value stat-card-value-processing"/>
        </VBox>

        <!-- Completed Orders Card -->
        <VBox GridPane.columnIndex="3" spacing="10.0" alignment="CENTER" styleClass="dashboard-stat-card">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
            </padding>
            <Label text="Completadas" styleClass="stat-card-label"/>
            <Label fx:id="lblCompletedOrders" text="0" styleClass="stat-card-value stat-card-value-completed"/>
        </VBox>
    </GridPane>

    <!-- Quick Actions Section -->
    <VBox spacing="15.0">
        <Label text="Acciones RÃ¡pidas" styleClass="section-title"/>

        <GridPane hgap="20.0" vgap="20.0">
            <columnConstraints>
                <ColumnConstraints percentWidth="25.0"/>
                <ColumnConstraints percentWidth="25.0"/>
                <ColumnConstraints percentWidth="25.0"/>
                <ColumnConstraints percentWidth="25.0"/>
            </columnConstraints>

            <!-- New Shipment Card -->
            <VBox fx:id="btnNewShipment" GridPane.columnIndex="0" alignment="CENTER" spacing="15.0" styleClass="quick-action-card">
                <padding>
                    <Insets top="30.0" right="20.0" bottom="30.0" left="20.0"/>
                </padding>
                <Label text="ðŸ“¦" styleClass="action-card-icon"/>
                <Label text="Nuevo EnvÃ­o" styleClass="action-card-text"/>
            </VBox>

            <!-- My Shipments Card -->
            <VBox fx:id="btnMyShipments" GridPane.columnIndex="1" alignment="CENTER" spacing="15.0" styleClass="quick-action-card">
                <padding>
                    <Insets top="30.0" right="20.0" bottom="30.0" left="20.0"/>
                </padding>
                <Label text="ðŸ“‹" styleClass="action-card-icon"/>
                <Label text="Mis EnvÃ­os" styleClass="action-card-text"/>
            </VBox>

            <!-- Track Shipment Card -->
            <VBox fx:id="btnTrackShipment" GridPane.columnIndex="2" alignment="CENTER" spacing="15.0" styleClass="quick-action-card">
                <padding>
                    <Insets top="30.0" right="20.0" bottom="30.0" left="20.0"/>
                </padding>
                <Label text="ðŸ“" styleClass="action-card-icon"/>
                <Label text="Rastrear EnvÃ­o" styleClass="action-card-text"/>
            </VBox>

            <!-- Manage Addresses Card -->
            <VBox fx:id="btnManageAddresses" GridPane.columnIndex="3" alignment="CENTER" spacing="15.0" styleClass="quick-action-card">
                <padding>
                    <Insets top="30.0" right="20.0" bottom="30.0" left="20.0"/>
                </padding>
                <Label text="ðŸ " styleClass="action-card-icon"/>
                <Label text="Direcciones" styleClass="action-card-text"/>
            </VBox>
        </GridPane>
    </VBox>

    <!-- Recent Activity Section -->
    <VBox spacing="15.0" VBox.vgrow="ALWAYS">
        <Label text="Actividad Reciente" styleClass="section-title"/>

        <VBox spacing="10" styleClass="dashboard-stat-card" VBox.vgrow="ALWAYS">
            <padding>
                <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
            </padding>

            <!-- Recent Shipments List -->
            <VBox fx:id="recentShipmentsContainer" spacing="8">
                <Label text="Ãšltimos EnvÃ­os" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #032d4d;"/>
                <javafx.scene.control.ListView fx:id="listRecentShipments" prefHeight="150" styleClass="recent-activity-list">
                    <placeholder>
                        <Label text="No hay envÃ­os recientes" style="-fx-text-fill: #6c757d;"/>
                    </placeholder>
                </javafx.scene.control.ListView>
            </VBox>

            <javafx.scene.control.Separator/>

            <!-- Quick Info -->
            <HBox spacing="20" alignment="CENTER_LEFT">
                <VBox spacing="5" HBox.hgrow="ALWAYS">
                    <Label text="Ãšltimo EnvÃ­o:" style="-fx-font-weight: bold; -fx-font-size: 12px; -fx-text-fill: #6c757d;"/>
                    <Label fx:id="lblLastShipmentDate" text="--" style="-fx-font-size: 13px; -fx-text-fill: #032d4d;"/>
                </VBox>

                <VBox spacing="5" HBox.hgrow="ALWAYS">
                    <Label text="EnvÃ­os en TrÃ¡nsito:" style="-fx-font-weight: bold; -fx-font-size: 12px; -fx-text-fill: #6c757d;"/>
                    <Label fx:id="lblInTransitCount" text="0" style="-fx-font-size: 13px; -fx-text-fill: #17a2b8;"/>
                </VBox>

                <VBox spacing="5" HBox.hgrow="ALWAYS">
                    <Label text="Total Gastado:" style="-fx-font-weight: bold; -fx-font-size: 12px; -fx-text-fill: #6c757d;"/>
                    <Label fx:id="lblTotalSpent" text="0.00" styleClass="stat-value-success"/>
                </VBox>
            </HBox>
        </VBox>
    </VBox>

</VBox>
