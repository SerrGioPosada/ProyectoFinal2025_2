<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="co.edu.uniquindio.poo.ProyectoFinal2025_2.Controller.OrderDetailController"
      spacing="15" styleClass="content-area">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header Section -->
    <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header-section">
        <Label text="Detalles de la Orden" styleClass="page-title"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="Imprimir" styleClass="btn-secondary" onAction="#handlePrint"/>
        <Button text="Volver" styleClass="btn-secondary" onAction="#handleBack"/>
    </HBox>

    <!-- Scrollable Content -->
    <ScrollPane fitToWidth="true" styleClass="details-scroll" VBox.vgrow="ALWAYS">
        <VBox spacing="20" styleClass="details-container">

            <!-- General Information -->
            <VBox spacing="10" styleClass="detail-section">
                <Label text="Información General" styleClass="section-title"/>
                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="180" prefWidth="200"/>
                        <ColumnConstraints minWidth="300" prefWidth="400"/>
                    </columnConstraints>

                    <Label text="ID de Orden:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblId" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Estado:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblStatus" text="--" styleClass="detail-value status-badge" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Fecha de Creación:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="lblCreationDate" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <Label text="ID de Envío:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <Label fx:id="lblShipmentId" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                    <Label text="ID de Pago:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                    <Label fx:id="lblPaymentId" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                    <Label text="ID de Factura:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                    <Label fx:id="lblInvoiceId" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="5"/>
                </GridPane>
            </VBox>

            <Separator/>

            <!-- User Information -->
            <VBox spacing="10" styleClass="detail-section">
                <Label text="Información del Usuario" styleClass="section-title"/>
                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="180" prefWidth="200"/>
                        <ColumnConstraints minWidth="300" prefWidth="400"/>
                    </columnConstraints>

                    <Label text="Nombre:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblUserName" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Teléfono:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblUserPhone" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Correo:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="lblUserEmail" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                </GridPane>
            </VBox>

            <Separator/>

            <!-- Addresses -->
            <VBox spacing="15">
                <VBox spacing="10" styleClass="detail-section">
                    <Label text="Dirección de Origen" styleClass="section-title"/>
                    <Label fx:id="lblOriginAddress" text="--" styleClass="address-text" wrapText="true"/>
                    <Label fx:id="lblOriginZone" text="Zona: --" styleClass="detail-value"/>
                </VBox>

                <VBox spacing="10" styleClass="detail-section">
                    <Label text="Dirección de Destino" styleClass="section-title"/>
                    <Label fx:id="lblDestinationAddress" text="--" styleClass="address-text" wrapText="true"/>
                    <Label fx:id="lblDestinationZone" text="Zona: --" styleClass="detail-value"/>
                </VBox>
            </VBox>

            <!-- Shipment Details (if exists) -->
            <VBox fx:id="shipmentSection" spacing="10" styleClass="detail-section">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Detalles del Envío" styleClass="section-title"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="btnViewShipment" text="Ver Detalles Completos del Envío" styleClass="btn-primary" onAction="#handleViewShipment"/>
                </HBox>

                <Separator/>

                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="180" prefWidth="200"/>
                        <ColumnConstraints minWidth="300" prefWidth="400"/>
                    </columnConstraints>

                    <Label text="Estado:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblShipmentStatus" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Prioridad:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblShipmentPriority" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Peso:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="lblWeight" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <Label text="Distancia:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <Label fx:id="lblDistance" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                    <Label text="Entrega Estimada:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                    <Label fx:id="lblEstimatedDate" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                    <Label text="Entrega Real:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                    <Label fx:id="lblActualDate" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="5"/>
                </GridPane>
            </VBox>

            <Separator fx:id="shipmentSeparator"/>

            <!-- Payment Details (if exists) -->
            <VBox fx:id="paymentSection" spacing="10" styleClass="detail-section">
                <Label text="Información de Pago" styleClass="section-title"/>
                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="180" prefWidth="200"/>
                        <ColumnConstraints minWidth="300" prefWidth="400"/>
                    </columnConstraints>

                    <Label text="Estado de Pago:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblPaymentStatus" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Método de Pago:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblPaymentMethod" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Fecha de Pago:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="lblPaymentDate" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <Label text="Monto Total:" styleClass="detail-label total-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <Label fx:id="lblTotalAmount" text="--" styleClass="detail-value total-value" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                </GridPane>
            </VBox>

            <Separator fx:id="paymentSeparator"/>

            <!-- Delivery Person (if assigned) -->
            <VBox fx:id="deliveryPersonSection" spacing="10" styleClass="detail-section">
                <Label text="Repartidor" styleClass="section-title"/>
                <GridPane hgap="20" vgap="10" styleClass="detail-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="180" prefWidth="200"/>
                        <ColumnConstraints minWidth="300" prefWidth="400"/>
                    </columnConstraints>

                    <Label text="Nombre:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="lblDeliveryPersonName" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                    <Label text="Teléfono:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="lblDeliveryPersonPhone" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                    <Label text="Zona:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="lblDeliveryPersonZone" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                    <Label text="ID de Documento:" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <Label fx:id="lblDeliveryPersonDocumentId" text="--" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                </GridPane>
            </VBox>

        </VBox>
    </ScrollPane>

</VBox>
