<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="co.edu.uniquindio.poo.ProyectoFinal2025_2.Controller.PaymentProcessorSelectionController"
            prefHeight="600.0" prefWidth="900.0"
            styleClass="main-container"
            stylesheets="@../Style.css">

    <ScrollPane fitToWidth="true" fitToHeight="true"
                AnchorPane.topAnchor="0.0" AnchorPane.leftAnchor="0.0"
                AnchorPane.rightAnchor="0.0" AnchorPane.bottomAnchor="0.0"
                style="-fx-background-color: transparent; -fx-background: transparent;">

    <VBox spacing="30" style="-fx-padding: 30 40 30 40;">

        <!-- Header -->
        <VBox spacing="10" alignment="CENTER">
            <Text text="Seleccionar MÃ©todo de Pago" styleClass="page-title"/>
            <Label text="Elige cÃ³mo deseas procesar el pago de tu envÃ­o"
                   style="-fx-text-fill: #6c757d; -fx-font-size: 14px;"/>
        </VBox>

        <Separator/>

        <!-- Order Summary -->
        <VBox styleClass="card" spacing="10">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15"/>
            </padding>

            <Label text="Resumen de la Orden" styleClass="section-header"/>
            <HBox spacing="20">
                <Label fx:id="lblOrderId" text="Orden #" styleClass="detail-value"/>
            </HBox>
            <Label fx:id="lblTotalAmount" text="Total: $0.00 COP"
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #032d4d;"/>
        </VBox>

        <!-- Payment Processor Options -->
        <VBox spacing="20">

            <!-- Option 1: Mercado Pago (Real Payment) -->
            <VBox styleClass="card" spacing="15" onMouseClicked="#handleSelectMercadoPago"
                  style="-fx-cursor: hand; -fx-border-color: #e0e0e0; -fx-border-width: 2; -fx-border-radius: 8;">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Label text="ðŸ’³" style="-fx-font-size: 40px;"/>
                    <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label text="Pagar con Mercado Pago"
                               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #032d4d;"/>
                        <Label text="Pago real procesado por Mercado Pago"
                               style="-fx-text-fill: #28a745; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                        <Label text="â€¢ Pago seguro con tarjetas de crÃ©dito/dÃ©bito&#10;â€¢ PSE y transferencias bancarias&#10;â€¢ Efectivo en puntos autorizados&#10;â€¢ Billeteras digitales"
                               wrapText="true" style="-fx-text-fill: #6c757d; -fx-font-size: 12px;"/>
                    </VBox>
                    <Label text="â†’" style="-fx-font-size: 30px; -fx-text-fill: #032d4d;"/>
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color: #e8f5e9; -fx-padding: 10; -fx-background-radius: 5;">
                    <Label text="ðŸ”’" style="-fx-font-size: 16px;"/>
                    <Label text="TransacciÃ³n real y segura procesada por Mercado Pago"
                           style="-fx-text-fill: #2e7d32; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                </HBox>
            </VBox>

            <!-- Option 2: App Payment (Simulated) -->
            <VBox styleClass="card" spacing="15" onMouseClicked="#handleSelectAppPayment"
                  style="-fx-cursor: hand; -fx-border-color: #e0e0e0; -fx-border-width: 2; -fx-border-radius: 8;">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Label text="ðŸ“±" style="-fx-font-size: 40px;"/>
                    <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label text="Pagar desde la AplicaciÃ³n"
                               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #032d4d;"/>
                        <Label text="Pago simulado (solo para demostraciÃ³n)"
                               style="-fx-text-fill: #ff9800; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                        <Label text="â€¢ Tarjeta de crÃ©dito&#10;â€¢ Tarjeta de dÃ©bito&#10;â€¢ Efectivo contra entrega&#10;â€¢ MÃ©todos de pago guardados"
                               wrapText="true" style="-fx-text-fill: #6c757d; -fx-font-size: 12px;"/>
                    </VBox>
                    <Label text="â†’" style="-fx-font-size: 30px; -fx-text-fill: #032d4d;"/>
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color: #fff3e0; -fx-padding: 10; -fx-background-radius: 5;">
                    <Label text="âš ï¸" style="-fx-font-size: 16px;"/>
                    <Label text="Esta es una simulaciÃ³n - no se procesarÃ¡ un pago real"
                           style="-fx-text-fill: #e65100; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                </HBox>
            </VBox>

        </VBox>

        <!-- Navigation Buttons -->
        <HBox spacing="15" alignment="CENTER">
            <Button text="â† Volver al Resumen" onAction="#handleGoBack" styleClass="btn-secondary"
                    prefWidth="180" prefHeight="40"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Cancelar" onAction="#handleCancel" styleClass="btn-danger"
                    prefWidth="120" prefHeight="40"/>
        </HBox>

    </VBox>
    </ScrollPane>
</AnchorPane>
