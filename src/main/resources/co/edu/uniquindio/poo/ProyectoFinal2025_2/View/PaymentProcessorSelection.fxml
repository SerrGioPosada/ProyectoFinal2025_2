<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="co.edu.uniquindio.poo.ProyectoFinal2025_2.Controller.PaymentProcessorSelectionController"
            prefHeight="650.0" prefWidth="950.0"
            styleClass="root-pane"
            stylesheets="@../Style.css">

    <ScrollPane fitToWidth="true" fitToHeight="true"
                AnchorPane.topAnchor="0.0" AnchorPane.leftAnchor="0.0"
                AnchorPane.rightAnchor="0.0" AnchorPane.bottomAnchor="0.0"
                styleClass="scroll-base">

    <VBox spacing="25" styleClass="content-area">
        <padding>
            <Insets top="35" right="45" bottom="35" left="45"/>
        </padding>

        <!-- Header -->
        <VBox spacing="12" alignment="CENTER" styleClass="header-section">
            <Label text="Seleccionar MÃ©todo de Pago" styleClass="page-title"/>
            <Label text="Elige cÃ³mo deseas procesar el pago de tu envÃ­o"
                   styleClass="info-label, info-label-large"/></VBox>

        <Separator styleClass="divider"/>

        <!-- Order Summary -->
        <VBox styleClass="card-base" spacing="12">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <Label text="Resumen de la Orden" styleClass="section-title"/>
            <HBox spacing="20">
                <Label fx:id="lblOrderId" text="Orden #" styleClass="detail-value"/>
            </HBox>
            <Label fx:id="lblTotalAmount" text="Total: $0.00 COP"
                   styleClass="total-value"/>
        </VBox>

        <!-- Payment Processor Options -->
        <VBox spacing="20">

            <!-- Option 1: Mercado Pago (Real Payment) -->
            <VBox styleClass="card-base, payment-option-card" spacing="15" onMouseClicked="#handleSelectMercadoPago">
                <padding>
                    <Insets top="25" right="25" bottom="25" left="25"/>
                </padding>

                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Label text="ðŸ’³" styleClass="payment-option-icon"/>
                    <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label text="Pagar con Mercado Pago" styleClass="payment-option-title"/>
                        <Label text="Pago real procesado por Mercado Pago" styleClass="payment-option-subtitle-success"/>
                        <Label text="â€¢ Pago seguro con tarjetas de crÃ©dito/dÃ©bito&#10;â€¢ PSE y transferencias bancarias&#10;â€¢ Efectivo en puntos autorizados&#10;â€¢ Billeteras digitales"
                               wrapText="true" styleClass="payment-option-details"/>
                    </VBox>
                    <Label text="â†’" styleClass="payment-option-arrow"/>
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT" styleClass="security-badge-success">
                    <Label text="ðŸ”’" styleClass="badge-icon"/>
                    <Label text="TransacciÃ³n real y segura procesada por Mercado Pago" styleClass="security-badge-success-text"/>
                </HBox>
            </VBox>

            <!-- Option 2: App Payment (Simulated) -->
            <VBox styleClass="card-base, payment-option-card" spacing="15" onMouseClicked="#handleSelectAppPayment">
                <padding>
                    <Insets top="25" right="25" bottom="25" left="25"/>
                </padding>

                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Label text="ðŸ“±" styleClass="payment-option-icon"/>
                    <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <Label text="Pagar desde la AplicaciÃ³n" styleClass="payment-option-title"/>
                        <Label text="Pago simulado (solo para demostraciÃ³n)" styleClass="payment-option-subtitle-warning"/>
                        <Label text="â€¢ Tarjeta de crÃ©dito&#10;â€¢ Tarjeta de dÃ©bito&#10;â€¢ Efectivo contra entrega&#10;â€¢ MÃ©todos de pago guardados"
                               wrapText="true" styleClass="payment-option-details"/>
                    </VBox>
                    <Label text="â†’" styleClass="payment-option-arrow"/>
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT" styleClass="warning-badge">
                    <Label text="âš ï¸" styleClass="badge-icon"/>
                    <Label text="Esta es una simulaciÃ³n - no se procesarÃ¡ un pago real" styleClass="warning-badge-text"/>
                </HBox>
            </VBox>

        </VBox>

        <!-- Navigation Buttons -->
        <HBox spacing="15" alignment="CENTER">
            <padding>
                <Insets top="15" right="0" bottom="0" left="0"/>
            </padding>
            <Button fx:id="btnGoBack" text="â† Volver al Resumen" onAction="#handleGoBack" styleClass="btn-secondary"
                    prefWidth="200" prefHeight="42"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnCancel" text="Cancelar" onAction="#handleCancel" styleClass="btn-danger"
                    prefWidth="140" prefHeight="42"/>
        </HBox>

    </VBox>
    </ScrollPane>
</AnchorPane>
